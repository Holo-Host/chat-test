{"version":3,"sources":["webpack:///./src/applications/ElementalChat/components/Message.vue?2bf0","webpack:///src/applications/ElementalChat/components/Message.vue","webpack:///./src/applications/ElementalChat/components/Message.vue?4045","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/applications/ElementalChat/components/Message.vue","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","internalMode","staticClass","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","staticStyle","_v","_s","createdAt","content","$event","type","indexOf","_k","keyCode","createMessage","model","value","callback","$$v","expression","staticRenderFns","name","components","props","data","uuid","computed","methods","channels","length","$emit","message","diplayErrorMessage","shouldShow","setTimeout","created","mode","baseMixins","mixins","autoGrow","noResize","rowHeight","Number","default","validator","v","isNaN","parseFloat","rows","parseInt","classes","VTextField","noResizeHandle","watch","lazyValue","$nextTick","mounted","calculateInputHeight","input","$refs","height","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","component","VCard","VCardText","VIcon","VTextarea","VTooltip","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","test","byteToHex","push","toString","substr","stringify","arr","offset","arguments","undefined","toLowerCase","TypeError","v4","options","buf","rnds","random","i"],"mappings":"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","file":"js/chunk-493279aa.cfdbf0e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.internalMode === 'display')?_c('v-card',{staticClass:\"pa-1 mb-1\",attrs:{\"dark\":\"\",\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"pl-0\"},[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticStyle:{\"font-size\":\"90%\"}},'v-icon',attrs,false),on),[_vm._v(\"mdi-calendar-clock \")])]}}],null,false,370653211)},[_c('span',[_vm._v(_vm._s(_vm.createdAt))])]),_vm._v(\" \"+_vm._s(_vm.content)+\" \")],1)],1):_c('v-textarea',{staticClass:\"ml-0 mr-0\",attrs:{\"label\":\"Send a message\",\"maxlength\":\"1000\",\"dense\":\"\",\"dark\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"full-width\":\"\",\"rows\":\"3\",\"append-icon\":\"mdi-send\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.createMessage($event)},\"click:append\":_vm.createMessage},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card v-if=\"internalMode === 'display'\" dark outlined class=\"pa-1 mb-1\">\n    <v-card-text class=\"pl-0\">\n      <v-tooltip left>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-icon v-bind=\"attrs\" v-on=\"on\" style=\"font-size:90%\"\n            >mdi-calendar-clock\n          </v-icon>\n        </template>\n        <span>{{ createdAt }}</span>\n      </v-tooltip>\n      {{ content }}\n    </v-card-text>\n  </v-card>\n  <v-textarea\n    v-else\n    class=\"ml-0 mr-0\"\n    v-model=\"content\"\n    label=\"Send a message\"\n    maxlength=\"1000\"\n    dense\n    dark\n    outlined\n    hide-details\n    full-width\n    rows=\"3\"\n    @keydown.enter=\"createMessage\"\n    append-icon=\"mdi-send\"\n    @click:append=\"createMessage\"\n  />\n</template>\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport { v4 as uuidv4 } from \"uuid\";\nexport default {\n  name: \"Message\",\n  components: {},\n  props: [\"message\", \"mode\"],\n  data() {\n    return {\n      internalMode: \"\",\n      uuid: \"\",\n      content: \"\",\n      createdAt: \"xx\"\n    };\n  },\n  computed: {\n    ...mapState(\"elementalChat\", [\"channels\"])\n  },\n  methods: {\n    ...mapActions(\"elementalChat\", [\"diplayErrorMessage\"]),\n    createMessage() {\n      const message = {\n        uuid: uuidv4(),\n        content: this.content\n      };\n      if (!this.channels.length) {\n        this.diplayErrorMessage({\n          message: \"You must first create a channel before sending a message.\",\n          shouldShow: true\n        });\n        // refresh error msg setting after 5sec\n        setTimeout(() => {\n          this.diplayErrorMessage({ message: \"\", shouldShow: false });\n        }, 5000);\n      } else {\n        this.$emit(\"message-created\", message);\n      }\n      this.content = \"\";\n    }\n  },\n  created() {\n    if (this.message) {\n      this.internalMode = this.mode;\n      this.content = this.message.message.content;\n      this.createdAt = `${new Date(this.message.createdAt[0] * 1000)}`;\n      this.uuid = this.message.message.uuid;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=a68a1eea&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VCard,VCardText,VIcon,VTextarea,VTooltip})\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;"],"sourceRoot":""}