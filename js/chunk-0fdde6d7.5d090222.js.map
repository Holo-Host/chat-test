{"version":3,"sources":["webpack:///./src/applications/ElementalChat/components/Messages.vue?f686","webpack:///src/applications/ElementalChat/components/Messages.vue","webpack:///./src/applications/ElementalChat/components/Messages.vue?2dbe","webpack:///./src/applications/ElementalChat/components/Messages.vue?250c","webpack:///./src/applications/ElementalChat/components/Messages.vue?834a"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","personScroll","_l","message","key","uuid","messageCreated","staticRenderFns","name","components","Message","data","personScrolling","methods","addMessageToChannel","channel","container","$el","querySelector","onscroll","height","scrollHeight","scrollToEnd","scrollTop","computed","messages","watch","mounted","component","VCard","VCardActions"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAACG,YAAY,yBAAyBD,MAAM,CAAC,GAAK,aAAaE,GAAG,CAAC,OAASR,EAAIS,eAAe,CAACL,EAAG,KAAK,CAACG,YAAY,cAAcP,EAAIU,GAAIV,EAAY,UAAE,SAASW,GAAS,OAAOP,EAAG,KAAK,CAACQ,IAAID,EAAQA,QAAQE,KAAKN,YAAY,WAAW,CAACH,EAAG,UAAU,CAACQ,IAAID,EAAQA,QAAQE,KAAKP,MAAM,CAAC,QAAUK,EAAQ,KAAO,cAAc,MAAK,KAAKP,EAAG,iBAAiB,CAACG,YAAY,aAAa,CAACH,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,kBAAkBR,EAAIc,mBAAmB,IAAI,IACvlBC,EAAkB,G,oCCuBtB,GACEC,KAAM,WACNC,WAAY,CACVC,QAAS,WAAb,yDAEEC,KALF,WAMI,MAAO,CACLC,iBAAiB,IAGrBC,QAAS,OAAX,OAAW,CAAX,kBACA,yDADA,IAEIP,eAFJ,SAEA,GACMb,KAAKqB,oBAAoB,CACvBC,QAAStB,KAAKsB,QACdZ,QAASA,KAGbF,aARJ,WAQA,WACUe,EAAYvB,KAAKwB,IAAIC,cAAc,cACvCF,EAAUG,SAAW,WACnB,EAAR,mBACQ,IAAR,6BACYC,IAAWJ,EAAUK,eACvB,EAAV,sBAIIC,YAlBJ,WAmBM,IAAI7B,KAAKmB,gBAAT,CACA,IAAII,EAAYvB,KAAKwB,IAAIC,cAAc,cACvCF,EAAUO,UAAYP,EAAUK,iBAGpCG,SAAU,OAAZ,OAAY,CAAZ,iCACA,2CACA,6CAFA,IAGIC,SAHJ,WAIM,OAAOhC,KAAKsB,QAAQU,YAGxBC,MAAO,CACLX,QADJ,WAEMtB,KAAK6B,gBAGTK,QA9CF,WA+CIlC,KAAK6B,gBCvEuW,I,qECQ5WM,EAAY,eACd,EACArC,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,EAAiB,QAMhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,aAAA,U,2DCzBpC","file":"js/chunk-0fdde6d7.5d090222.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('div',{staticClass:\"chat-container rounded\",attrs:{\"id\":\"container\"},on:{\"scroll\":_vm.personScroll}},[_c('ul',{staticClass:\"pb-10 pl-0\"},_vm._l((_vm.messages),function(message){return _c('li',{key:message.message.uuid,staticClass:\"message\"},[_c('message',{key:message.message.uuid,attrs:{\"message\":message,\"mode\":\"display\"}})],1)}),0)]),_c('v-card-actions',{staticClass:\"pa-0 pt-1\"},[_c('message',{attrs:{\"mode\":\"create\"},on:{\"message-created\":_vm.messageCreated}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card flat>\n    <div id=\"container\" class=\"chat-container rounded\" @scroll=\"personScroll\">\n      <ul class=\"pb-10 pl-0\">\n        <li\n          v-for=\"message in messages\"\n          :key=\"message.message.uuid\"\n          class=\"message\"\n        >\n          <message\n            :message=\"message\"\n            :key=\"message.message.uuid\"\n            mode=\"display\"\n          />\n        </li>\n      </ul>\n    </div>\n    <v-card-actions class=\"pa-0 pt-1\">\n      <message mode=\"create\" @message-created=\"messageCreated\" />\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  name: \"Messages\",\n  components: {\n    Message: () => import(\"./Message.vue\")\n  },\n  data() {\n    return {\n      personScrolling: false\n    };\n  },\n  methods: {\n    ...mapActions(\"elementalChat\", [\"addMessageToChannel\"]),\n    messageCreated(message) {\n      this.addMessageToChannel({\n        channel: this.channel,\n        message: message\n      });\n    },\n    personScroll() {\n      var container = this.$el.querySelector(\"#container\");\n      container.onscroll = () => {\n        this.personScrolling = true;\n        const height = container.offsetHeight + container.scrollTop;\n        if (height === container.scrollHeight) {\n          this.personScrolling = false;\n        }\n      };\n    },\n    scrollToEnd() {\n      if (this.personScrolling) return;\n      var container = this.$el.querySelector(\"#container\");\n      container.scrollTop = container.scrollHeight;\n    }\n  },\n  computed: {\n    ...mapState([\"conductorDisconnected\"]),\n    ...mapState(\"elementalChat\", [\"channel\"]),\n    messages() {\n      return this.channel.messages;\n    }\n  },\n  watch: {\n    channel() {\n      this.scrollToEnd();\n    }\n  },\n  mounted() {\n    this.scrollToEnd();\n  }\n};\n</script>\n<style>\n.chat-container {\n  box-sizing: border-box;\n  overflow-y: auto;\n  height: calc(100vh - 150px);\n}\nul {\n  list-style-type: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=f0eadcc8&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard,VCardActions})\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}